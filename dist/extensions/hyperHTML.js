var hyperHTML=function(e){"use strict";function n(e){return arguments.length<2?null==e?R("html"):"string"==typeof e?r(null,e):"raw"in e?R("html")(e):"nodeType"in e?t(e):q(e,"html"):("raw"in e?R("html"):r).apply(null,arguments)}function t(e){return u.bind(e)}function r(e,n){return arguments.length<1?R("html"):null==e?R(n||"html"):q(e,n||"html")}function i(e,n){for(var t=0,r=e.length,i=n.length;t<r;){if(!(t<i&&e[t]===n[t]))return t;t++}return t===i?-1:t}function o(e,n){switch(n.nodeType){case V:var t=e.childNodes;if(t[0]===n){a(t,1);break}l(e,n);break;case Q:-1!==i(e.childNodes,n.childNodes)&&l(e,n);break;case J:e.textContent=n.textContent}}function a(e,n){for(var t,r=e.length;n<r--;)(t=e[r]).parentNode.removeChild(t)}function l(e,n){e.textContent="",e.appendChild(n)}function c(e,n,t){var r=T(e);0!==t?(a(e.childNodes,t),de(r,n.slice(t)),e.appendChild(r)):(de(r,n),l(e,r))}function u(e){var n=xe.get(this);return n&&n.template===(re?G(e):e)||(n=F.apply(this,arguments),xe.set(this,n)),B.apply(n.updates,arguments),this}function s(e,n,t){var r,i=e.ownerElement,o=/^on/.test(t),a="data"===t||t in i&&!(U in i||Y.test(t)),l=o?t.slice(2):"",c=o||a;return o&&t.toLowerCase()in i&&(l=l.toLowerCase()),c&&n.push(i,t),o?function(e){r!==e&&(r&&i.removeEventListener(l,r,!1),r=e,e&&i.addEventListener(l,e,!1))}:a?function(e){r!==e&&(r=e,i[t]!==e&&(null==e?(i[t]=null,i.removeAttribute(t)):i[t]=e))}:function(n){r!==n&&(r=n,e.value!==n&&(null==n?c||(c=!0,i.removeAttributeNode(e)):(e.value=n,c&&(c=!1,i.setAttributeNode(e)))))}}function f(e,n){var t,r=!n;return function l(u){switch(typeof u){case"string":case"number":case"boolean":r?t!==u&&(t=u,e.textContent=u):1===n.length&&n[0].nodeType===J?t!==u&&(t=u,n[0].textContent=u):(t=u,a(n,0),n=[w(e,u)],e.parentNode.insertBefore(n[0],e));break;case"function":l(r?u(e,pe(e),0):u(e.parentNode,n,0));break;case"object":case"undefined":if(null==u){t=u,l("");break}default:if(t=u,se(u)){var s=u.length;if(0!==s||r)switch(typeof u[0]){case"string":case"number":case"boolean":l({html:u});break;case"function":for(var f=r?e:e.parentNode,h=r?ae.call(pe(e)):n,d=0;d<s;d++)u[d]=u[d](f,h,d);r&&a(h,d),l(u.concat.apply([],u));break;case"object":if(se(u[0])&&(u=u.concat.apply([],u)),L(u[0])){Promise.all(u).then(l);break}default:r?-1!==(d=i(e.childNodes,u))&&c(e,u,d):H(e,n,u)}else a(n,0),n=[]}else if(S(u))r?o(e,u):H(e,n,u.nodeType===Q?ae.call(u.childNodes):[u]);else if(L(u))u.then(l);else if("placeholder"in u)k(l,u);else if("text"in u)l(String(u.text));else if("any"in u)l(u.any);else if("html"in u){var p=[].concat(u.html).join("");if(r)e.innerHTML=p;else{a(n,0);var v=y(e,p);n=ae.call(v.childNodes),e.parentNode.insertBefore(v,e)}}else l("length"in u?ae.call(u):E(u))}}}function h(e,n,t){for(var r,i=ee,o=e.attributes,a=0,l=o.length;a<l;a++)o[a].value===i&&(r=t.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)=['"]?$/,"$1"),n.push(j("attr",e.attributes[r.toLowerCase()],r)))}function d(e,n,t){for(var r,i=e.childNodes,o=i.length,a=0;a<o;a++)switch((r=i[a]).nodeType){case V:h(r,n,t),d(r,n,t);break;case K:r.textContent===ee&&(t.shift(),1===o||M(r,"previous")&&M(r,"next")?(n.push(j("any",e)),a=o):n.push(j("virtual",r)));break;case J:Y.test(e.nodeName)&&fe.call(r.textContent)===ne&&(t.shift(),n.push(j("any",e)))}}function p(e){return le[e]}function v(e){return{html:e}}function g(e){for(var n,t=[],r=e.childNodes,i=0,o=r.length;i<o;i++)(n=r[i]).nodeType!==V&&0===fe.call(n.textContent).length||t.push(n);return 1===t.length?t[0]:t}function m(e){return e.createDocumentFragment()}function y(e,n){return(U in e?N:b)(e,n.replace(ge,ye))}function b(e,n){var t,r=e.ownerDocument,i=r.createElement("template"),o="content"in i,a=!1;if(o||(t=m(r),a=/^[^\S]*?<(t(?:head|body|foot|r|d|h))/i.test(n)),a){var l=RegExp.$1;i.innerHTML="<table>"+n+"</table>",de(t,ae.call(i.querySelectorAll(l)))}else i.innerHTML=n,o?t=i.content:de(t,ae.call(i.childNodes));return t}function N(e,n){var t=e.ownerDocument,r=m(t);if(ie||oe)(i=t.createElement("div")).innerHTML='<svg xmlns="'+X+'">'+n+"</svg>",de(r,ae.call(i.firstChild.childNodes));else{var i=t.createElementNS(X,"svg");i.innerHTML=n,de(r,ae.call(i.childNodes))}return r}function w(e,n){return e.ownerDocument.createTextNode(n)}function x(e,n,t,r){for(var i=e,o=e.ownerDocument,a=t.path,l=ve(n,a),c=0,u=a.length;c<u;c++)switch(a[c++]){case"attributes":var s=l.name;e.hasAttribute(s)||e.setAttribute(s,""),i=e.attributes[s];break;case"childNodes":var f=pe(e),h=pe(l.parentNode),d=(i=we(l))?a.indexOf.call(h,i)+1:-1,p=(i=Ne(l))?a.indexOf.call(h,i):-1;switch(i=o.createComment(ee),!0){case p<0:p=f.length;break;case d<0:d=0;default:p=-(h.length-p)}r.push.apply(r,ae.call(f,d,p)),r.length?C(e,i,Ne(r[r.length-1])):C(e,i,ae.call(f,p)[0]),0===r.length&&A(e,i);break;default:e=i=pe(e)[a[c]]||e.appendChild(e.ownerDocument.createElement(ve(n,a.slice(0,c+1)).nodeName))}return i}function C(e,n,t){t?e.insertBefore(n,t):e.appendChild(n)}function T(e){return m(e.ownerDocument)}function k(e,n){e(n.placeholder),"text"in n?Promise.resolve(n.text).then(String).then(e):"any"in n?Promise.resolve(n.any).then(e):"html"in n?Promise.resolve(n.html).then(v).then(e):Promise.resolve(E(n)).then(e)}function E(e){for(var n in he)if(e.hasOwnProperty(n))return he[n](e[n])}function S(e){return"ELEMENT_NODE"in e}function L(e){return null!=e&&"then"in e}function M(e,n){for(;null!=(e=e[n+"Sibling"])&&e.nodeType===J&&fe.call(e.textContent).length<1;);return null==e}function D(e){for(var n=0,t=e.length;n<t;n++)e[n++].removeAttribute(e[n])}function A(e,n){var t=n.previousSibling;t&&t.nodeType===J&&(e.removeChild(t),A(e,n))}function O(e,n,t,r){var i;switch(e.type){case"any":i=f(n,null);break;case"attr":i=s(n,t,e.name);break;case"virtual":i=f(n,r)}return i}function H(e,n,t){var r=i(n,t);if(-1!==r){var o=T(e);a(n,r),n.splice(r),t=t.slice(r),de(o,t),e.parentNode.insertBefore(o,e),n.push.apply(n,t)}}function j(e,n,t){return{type:e,path:_(n),name:t}}function P(e){var n=[],t=y(this,e.join(ne)),r={fragment:t,paths:n};return d(t,n,e.slice()),Te.set(e,r),r}function _(e){var n,t=[];switch(e.nodeType){case V:case Q:n=e;break;case K:n=e.parentNode,t.unshift("childNodes",t.indexOf.call(n.childNodes,e));break;case I:default:n=e.ownerElement,t.unshift("attributes",e.name)}for(e=n;n=n.parentNode;e=n)t.unshift("children",t.indexOf.call(pe(n),e));return t}function $(e,n){for(var t,r,i=[],o=[],l=0,c=n.length;l<c;l++)t=n[l],(r=ve(e,t.path)).nodeType===Q&&(a(r.childNodes,0),r=this),i[l]=O(t,r,o,[]);return D(o),i}function z(e,n){for(var t,r,i=[],o=[],a=0,l=n.length;a<l;a++)r=[],t=n[a],i[a]=O(t,x(this,e,t,r),o,r);return D(o),i}function B(){for(var e=1,n=arguments.length;e<n;e++)this[e-1](arguments[e])}function F(e){re&&(e=G(e));var n,t=Te.get(e)||P.call(this,e);if(ke){var r=Ee(t.fragment);n=$.call(this,r,t.paths),l(this,r)}else n=z.call(this,t.fragment,t.paths);return{template:e,updates:n}}function R(e){function r(n){c=m(n),l="svg"===e?n.createElementNS(X,"svg"):c,u=t(l)}function i(){return s&&(s=!1,"svg"===e&&de(c,ae.call(l.childNodes)),a=g(c)),a}var o,a,l,c,u,s,f;return"adopt"===e?function(t){var a=arguments;return re&&(t=G(t)),f!==t&&(s=!0,f=t,o=function(t,o,f){return s&&(f<o.length?(l=o[f],c={ownerDocument:l.ownerDocument,childNodes:[l],children:[l]},u=n.adopt(c)):(U in t&&(e="svg"),r(t.ownerDocument))),u.apply(null,a),i()}),o}:function(e){return re&&(e=G(e)),f!==e&&(s=!0,f=e,r(n.document)),u.apply(null,arguments),i()}}function q(e,n){var t=Ce.get(e),r=n.indexOf(":"),i=n;return-1<r&&(i=n.slice(r+1),n=n.slice(0,r)||"html"),t||(t={},Ce.set(e,t)),t[i]||(t[i]=R(n))}n.document=e,n.hyper=n,n.adopt=function(e){return function(){return ke=!1,u.apply(e,arguments),ke=!0,e}},n.bind=t,n.define=function(e,n){he[e]=n},n.escape=function(e){return e.replace(/[&<>'"]/g,p)},n.wire=r;var W,G,V=1,I=2,J=3,K=8,Q=11,U="ownerSVGElement",X="http://www.w3.org/2000/svg",Y=/^style$/i,Z="_hyper_html: ",ee=Z+(Math.random()*new Date|0)+";",ne="\x3c!--"+ee+"--\x3e",te=m(e),re="object"==typeof navigator&&/Firefox\/(\d+)/.test(navigator.userAgent)&&parseFloat(RegExp.$1)<55,ie=function(){var n=e.createElement("p");return n.innerHTML='<i data-i="" class=""></i>',/class/i.test(n.firstChild.attributes[0].name)}(),oe=!("children"in te),ae=[].slice,le={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},ce=typeof WeakMap==typeof ce?function(){return{get:function(e){return e[Z]},set:function(e,n){Object.defineProperty(e,Z,{configurable:!0,value:n})}}}:WeakMap,ue=typeof Map==typeof ue?function(){var e=[],n=[];return{get:function(t){return n[e.indexOf(t)]},set:function(t,r){n[e.push(t)-1]=r}}}:Map,se=Array.isArray||function(){var e={}.toString,n=e.call([]);return function(t){return e.call(t)===n}}(),fe=Z.trim||function(){return this.replace(/^\s+|\s+$/g,"")},he={};re&&(W={},G=function(e){var n="_"+e.join(ne);return W[n]||(W[n]=e)});var de="append"in te?function(e,n){e.append.apply(e,n)}:function(e,n){for(var t=0,r=n.length;t<r;t++)e.appendChild(n[t])},pe=oe||ie?function(e){for(var n,t=[],r=e.childNodes,i=0,o=0,a=r.length;o<a;o++)(n=r[o]).nodeType===V&&(t[i++]=n);return t}:function(e){return e.children},ve=ie||oe?function(e,n){for(var t,r=0,i=n.length;r<i;r++)switch(t=n[r++]){case"children":e=pe(e)[n[r]];break;default:e=e[t][n[r]]}return e}:function(e,n){for(var t=0,r=n.length;t<r;t++)e=e[n[t++]][n[t]];return e},ge=/(<[a-z]+[a-z0-9:_-]*)((?:[^\S]+[a-z0-9:_-]+(?:=(?:'.*?'|".*?"|<.+?>|\S+))?)+)([^\S]*\/?>)/gi,me=new RegExp("([^\\S][a-z]+[a-z0-9:_-]*=)(['\"]?)"+ne+"\\2","gi"),ye=function(e,n,t,r){return n+t.replace(me,be)+r},be=function(e,n,t){return n+(t||'"')+ee+(t||'"')},Ne=ie?function(e){for(;e=e.nextSibling;)if(e.nodeType===V)return e}:function(e){return e.nextElementSibling},we=ie?function(e){for(;e=e.previousSibling;)if(e.nodeType===V)return e}:function(e){return e.previousElementSibling},xe=new ce,Ce=new ce,Te=new ue,ke=!0,Ee=(te.appendChild(w(te,"g")),te.appendChild(w(te,"")),1===te.cloneNode(!0).childNodes.length?function(e){for(var n=e.cloneNode(),t=e.childNodes||[],r=0,i=t.length;r<i;r++)n.appendChild(Ee(t[r]));return n}:function(e){return e.cloneNode(!0)});return n}(document);try{module.exports=hyperHTML}catch(e){}
xtag.extensions.hyper={mixin:e=>class extends e{set"hyper::attr"(e){this.render(e)}render(e){var r=e||"default",t=this.constructor.getOptions("hyper")[r];if(!t)throw new ReferenceError('hyperHTML template "'+r+'" is undefined');t.call(this,(this._hyper||(this._hyper={}))[r]||(this._hyper[r]=hyperHTML.bind(this)))}},onParse:(e,r,t,s)=>(e.getOptions("hyper")[r||"default"]=s.value,!1),onConstruct(e,r,t){JSON.parse(t[0]||!1)&&e.render(r)}};